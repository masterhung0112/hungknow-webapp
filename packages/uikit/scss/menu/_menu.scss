/**
Menus

# Class names:
.menu

.menu .menu-item
  &::before
  & > .icon
  & > .sub-menu-icon
  &:hover
  &:active, &.active
  &.disabled
    &::before
    > .icon
    .menu-item-label
  .large &
    .icon
    &::before

.menu .menu-header
  .large &

.menu .sub-menu > .menu
  .expanded + &

button.menu-item

# Vertical menu

<ul class="#{$ns}-menu">
    <li class="#{$ns}-menu-header"><h6 class="#{$ns}-heading">Layouts</h6></li>
    <li class="#{$ns}-menu-message"><h6 class="#{$ns}-heading">Message goes here</h6></li>
    <li>
        <a class="#{$ns}-menu-item">Share...</a>
    </li>
    <li>
        <a class="#{$ns}-menu-item #{$ns}-disabled">Move...</a>
    </li>
    <li class="#{$ns}-menu-divider"></li>
    <li>
        <a class="#{$ns}-menu-item #{$ns}-intent-danger">Delete</a>
    </li>

    /!-- Submenu -->
    <li class="#{$ns}-menu">
        <button>Click to open...</button>
        <ul class="#{$ns}-menu">
            <li class="#{$ns}-menu-item>Menu1...<li>
        </ul>
    </li>    
</ul>

<div class="#{$ns} menu">
    <div class="submenu">
        <div class="menu-item">
            <span>Buy Crypto</span>
            <span class="label">VND</span>
        </div>

        <div class="menu">
            <li class="#{$ns}-menu-item">P2P Trading<li>
        </div>
    </div>
    <a class="#{$ns}-menu-item">NFT<span class="label">New</span></a>

    <a class="#{$ns}-menu-item">Share...</a>
    <a class="#{$ns}-menu-item #{$ns}-disabled">Move...</a>
    <div class="#{$ns}-menu-divider"></div>
    <a class="#{$ns}-menu-item #{$ns}-intent-danger">Delete</a>

    <!-- Submenu -->
    <div class="sub-menu">
        <button class="menu-item">Click to open...</button>
        <div class="sub-menu">
            <a class="menu-item">Menu1...</a>
            <a class="sub-menu">
                <a class="menu-item">Menu2</a>
                <div class="sub-menu">
                  <a class="menu-item">This is the content</a>
                </div>
            </a>
        </div>
    </div>    
</div>
*/
@import "menu-variables";
@import "menu-mixins";
@import "../icon/icon-mixins";

.#{$ns}.menu {
  background-color: $hk-menu-background-color;
  border-radius: $hk-border-radius;
  color: $hk-text-color;
  list-style: none;
  margin: 0;
  min-width: $hk-menu-min-width;
  padding: $hk-half-grid-size;
  text-align: left;

  .menu-item {
    @include menu-item();
    @include menu-item-intent();

    &::before {
      // support hk-icon-* classes directly on this element
      @include hk-icon();
      margin-right: $hk-menu-item-padding;
    }

    &::before,
    > .icon {
      color: $hk-icon-color;
      margin-top: calc(($hk-menu-item-line-height - $hk-icon-size-standard) / 2);
    }

    .menu-item-label {
      color: $hk-text-color-muted;
    }

    &:hover {
      color: inherit;
    }

    &.active,
    &:active {
      background-color: $hk-menu-item-color-active;
    }

    &.disabled {
      background-color: inherit !important;
      color: $hk-text-color-disabled !important;
      cursor: not-allowed !important;
      // override global a:focus styles
      outline: none !important;

      &::before,
      > .icon,
      .menu-item-label {
        color: $hk-icon-color-disabled !important;
      }
    }

    .large & {
      @include menu-item-large();

      .icon {
        // SVG icons remain standard size when menu is large
        margin-top: calc(($hk-menu-item-line-height-large - $hk-icon-size-standard) / 2);
      }

      &::before {
        @include hk-icon($hk-icon-size-large);
        margin-right: $hk-menu-item-padding-large;
        margin-top: calc(($hk-menu-item-line-height-large - $hk-icon-size-large) / 2);
      }
    }
  }

  /*
   * Menu header
   */

  .menu-header {
    @include menu-header($heading-selector: "> h6");

    .large & {
      @include menu-header-large($heading-selector: "> h6");
    }
  }

  /*
   * Sub Menu
   */

  .sub-menu > & {
    // Don't display the menu inside the sub-menu by default
    display: none;
    margin-left: $hk-grid-size * 1.2;

    .expanded + & {
      display: block;
    }
  }

  button.menu-item {
    background: none;
    border: none;
    text-align: left;
    width: 100%;
  }
}
