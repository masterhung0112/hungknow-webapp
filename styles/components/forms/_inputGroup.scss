@import "../../common/modules";

.#{$ns}-input-group {
  display: block;
  position: relative;

  .#{$ns}-input {
    // explicit position prevents shadow clipping https://github.com/palantir/blueprint/pull/490#issuecomment-273342170
    position: relative;
    width: 100%;

    // add space if there's something before or after the input
    &:not(:first-child) {
      padding-left: $hb-input-height;
    }

    &:not(:last-child) {
      padding-right: $hb-input-height;
    }
  }

  .#{$ns}-input-action,
  > .#{$ns}-input__left-container,
  > .#{$ns}-button,
  > .#{$ns}-icon {
    position: absolute;
    top: 0;

    // glue it to the end it appears on, for lef ticon
    &:first-child {
      left: 0;
    }

    // For right icon
    &:last-child {
      right: 0;
    }
  }

  // bump icon or left content up so it sits above input
  > .#{$ns}-input__left-container,
  > .#{$ns}-icon {
    z-index: 1;
  }

  // direct descendant to exclude icons in buttons
  > .#{$ns}-input-left-container > .#{$ns}-icon,
  > .#{$ns}-icon {
    color: $hb-icon-color;

    &:empty {
      @include hb-icon($hb-icon-size-standard);
    }
  }

  // adjusting the margin of spinners in input groups
  // we have to avoid targetting buttons that contain a spinner
  > .#{$ns}-input-left-container > .#{$ns}-icon,
  > .#{$ns}-icon,
  .#{$ns}-input-action > .#{$ns}-spinner {
    margin: ($hb-input-height - $hb-icon-size-standard) / 2;
  }
}
